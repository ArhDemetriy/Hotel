@use 'sass:map';
@import '../global_mixins/global_mixins';

.rate{
  display: inline-block;
  background: map.get($gradient, 'main');
  text-transform: none;
  font-style: normal;
  font-weight: normal;
  font-size: 24px;
  font-family: 'Material Icons';

  &__star{
    background: white; //важен сам факт установки значения, значение = white независимо от того что тут указано, всегда
    mix-blend-mode: screen; //виновен в этом данный параметр, но без него градиентный текст придётся делать картинками.
    display: none;
  }

  &-half{
    display: var(--rate-half,none);
  }

  $begin: 'var(--rate-';
  $end: 'none';
  $n: 5;
  @for $i from ($n - 1) through 0 {
    $b: '';
    $e: $end;
    @for $j from 0 through $i {
      $b : $b + $begin + $j + ',';
      $e : $e + ')';
    }
    &__star_neg-#{$i}{
      display: #{$b+$e};
    }
  }

  @for $i from 1 through $n {
    $b: '';
    $e: $end;
    @for $j from $i through $n {
      $b : $b + $begin + $j + ',';
      $e : $e + ')';
    }
    &__star_pos-#{$i}{
      display: #{$b+$e};
    }
  }

}